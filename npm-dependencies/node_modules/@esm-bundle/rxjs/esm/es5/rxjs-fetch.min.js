/* rxjs@6.6.3 */
import{g as r,O as n,j as e,S as t}from"./rxjs-shared.min.js";import"./rxjs-shared.min8.js";import{f as o}from"./rxjs-shared.min6.js";function a(a,i){void 0===i&&(i={});var s=i.selector,c=r(i,["selector"]);return new n((function(r){var n,i=new AbortController,f=i.signal,u=!0,d=!1,l=new t;if(l.add((function(){d=!0,u&&i.abort()})),c){if(c.signal)if(c.signal.aborted)i.abort();else{var m=c.signal,b=function(){f.aborted||i.abort()};m.addEventListener("abort",b),l.add((function(){return m.removeEventListener("abort",b)}))}n=e({},c,{signal:f})}else n={signal:f};return fetch(a,n).then((function(n){s?l.add(o(s(n)).subscribe((function(n){return r.next(n)}),(function(n){u=!1,d||r.error(n)}),(function(){u=!1,r.complete()}))):(u=!1,r.next(n),r.complete())})).catch((function(n){u=!1,d||r.error(n)})),l}))}export{a as fromFetch};
