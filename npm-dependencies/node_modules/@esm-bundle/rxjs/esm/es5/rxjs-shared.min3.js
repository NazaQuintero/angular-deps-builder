/* rxjs@6.6.3 */
import{_ as t,S as e,r,O as n,e as i}from"./rxjs-shared.min.js";import{s,a as o}from"./rxjs-shared.min8.js";var c,u=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),h=function(e){function r(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return t(r,e),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},r}(e),a=function(e){function r(t){var r=e.call(this,t)||this;return r.destination=t,r}return t(r,e),r}(i),l=function(i){function s(){var t=i.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return t(s,i),s.prototype[r]=function(){return new a(this)},s.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},s.prototype.next=function(t){if(this.closed)throw new u;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},s.prototype.error=function(t){if(this.closed)throw new u;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},s.prototype.complete=function(){if(this.closed)throw new u;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},s.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},s.prototype._trySubscribe=function(t){if(this.closed)throw new u;return i.prototype._trySubscribe.call(this,t)},s.prototype._subscribe=function(t){if(this.closed)throw new u;return this.hasError?(t.error(this.thrownError),e.EMPTY):this.isStopped?(t.complete(),e.EMPTY):(this.observers.push(t),new h(this,t))},s.prototype.asObservable=function(){var t=new n;return t.source=this,t},s.create=function(t,e){return new d(t,e)},s}(n),d=function(r){function n(t,e){var n=r.call(this)||this;return n.destination=t,n.source=e,n}return t(n,r),n.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},n.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):e.EMPTY},n}(l),p=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return t(r,e),r.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},r.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},r.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},r.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},r.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},r}(function(e){function r(t,r){return e.call(this)||this}return t(r,e),r.prototype.schedule=function(t,e){return this},r}(e)),f=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),v=function(e){function r(t,n){void 0===n&&(n=f.now);var i=e.call(this,t,(function(){return r.delegate&&r.delegate!==i?r.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t(r,e),r.prototype.schedule=function(t,n,i){return void 0===n&&(n=0),r.delegate&&r.delegate!==this?r.delegate.schedule(t,n,i):e.prototype.schedule.call(this,t,n,i)},r.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},r}(f),b=new n((function(t){return t.complete()}));function y(t){return t?function(t){return new n((function(e){return t.schedule((function(){return e.complete()}))}))}(t):b}function w(t){return t&&"function"==typeof t.schedule}function g(t,e){return e?o(t,e):new n(s(t))}function m(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return w(r)?(t.pop(),o(t,r)):g(t)}function E(t,e){return new n(e?function(r){return e.schedule(x,0,{error:t,subscriber:r})}:function(e){return e.error(t)})}function x(t){var e=t.error;t.subscriber.error(e)}c||(c={});var S=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return m(this.value);case"E":return E(this.error);case"C":return y()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();export{p as A,b as E,S as N,u as O,l as S,v as a,f as b,c,a as d,y as e,g as f,h as g,d as h,w as i,m as o,E as t};
