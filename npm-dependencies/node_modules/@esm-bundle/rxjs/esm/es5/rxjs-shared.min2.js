/* rxjs@6.6.3 */
import{_ as t,e,S as n,O as r,i,d as o}from"./rxjs-shared.min.js";import{d as s,S as u,O as c,A as a,a as h,i as l,f as p,o as f,e as b}from"./rxjs-shared.min3.js";import{m as y}from"./rxjs-shared.min7.js";import{s as v,f as d,i as m}from"./rxjs-shared.min6.js";function _(){return function(t){return t.lift(new x(t))}}var x=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new g(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),g=function(e){function n(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return t(n,e),n.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},n}(e),S=function(e){function r(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return t(r,e),r.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},r.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},r.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new n).add(this.source.subscribe(new C(this.getSubject(),this))),t.closed&&(this._connection=null,t=n.EMPTY)),t},r.prototype.refCount=function(){return _()(this)},r}(r),w=function(){var t=S.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),C=function(e){function n(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return t(n,e),n.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},n.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},n.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},n}(s);function j(t,e,n,r){return function(i){return i.lift(new I(t,e,n,r))}}var I=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new N(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),N=function(e){function n(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return t(n,e),n.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},n.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new u,n.set(e,i);var o=new T(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new T(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new E(e,i,this)))}}i.closed||i.next(r)},n.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},n.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},n.prototype.removeGroup=function(t){this.groups.delete(t)},n.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},n}(e),E=function(e){function n(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return t(n,e),n.prototype._next=function(t){this.complete()},n.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},n}(e),T=function(e){function r(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return t(r,e),r.prototype._subscribe=function(t){var e=new n,r=this.refCountSubscription,i=this.groupSubject;return r&&!r.closed&&e.add(new O(r)),e.add(i.subscribe(t)),e},r}(r),O=function(e){function n(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return t(n,e),n.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},n}(n),V=function(e){function n(t){var n=e.call(this)||this;return n._value=t,n}return t(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c;return this._value},n.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},n}(u),k=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return t(r,e),r.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),n.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),n.EMPTY):e.prototype._subscribe.call(this,t)},r.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},r.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},r.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},r}(u),A=1,F=function(){return Promise.resolve()}(),R={};function P(t){return t in R&&(delete R[t],!0)}var Y=function(t){var e=A++;return R[e]=!0,F.then((function(){return P(e)&&t()})),e},U=function(t){P(t)},q=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return t(n,e),n.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=Y(t.flush.bind(t,null))))},n.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(U(n),t.scheduled=void 0)},n}(a),M=new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},n}(h))(q),G=M,B=new h(a),z=B;function D(){}var Z=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),H=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),J=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),K=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},n.prototype.notifyError=function(t,e){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.complete()},n}(e),L=function(e){function n(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return t(n,e),n.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},n.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(e);function Q(t,e,n,i,o){if(void 0===o&&(o=new L(t,n,i)),!o.closed)return e instanceof r?e.subscribe(o):v(e)(o)}var W={};function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return l(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&i(t[0])&&(t=t[0]),p(t,r).lift(new $(n))}var $=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.resultSelector))},t}(),tt=function(e){function n(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return t(n,e),n.prototype._next=function(t){this.values.push(W),this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Q(this,r,void 0,n))}}},n.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},n.prototype.notifyNext=function(t,e,n){var r=this.values,i=r[n],o=this.toRespond?i===W?--this.toRespond:this.toRespond:0;r[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},n.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(K),et=function(e){function n(t){var n=e.call(this)||this;return n.parent=t,n}return t(n,e),n.prototype._next=function(t){this.parent.notifyNext(t)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},n}(e),nt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(){this.destination.complete()},n}(e);function rt(t,e){if(!e.closed)return t instanceof r?t.subscribe(e):v(t)(e)}function it(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(it((function(n,r){return d(t(n,r)).pipe(y((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new ot(t,n))})}var ot=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new st(t,this.project,this.concurrent))},t}(),st=function(e){function n(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return t(n,e),n.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},n.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},n.prototype._innerSub=function(t){var e=new et(this),n=this.destination;n.add(e);var r=rt(t,e);r!==e&&n.add(r)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(nt),ut=it;function ct(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),it(o,t)}function at(){return ct(1)}function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return at()(f.apply(void 0,t))}function lt(t){return new r((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?d(n):b()).subscribe(e)}))}function pt(t){return!i(t)&&t-parseFloat(t)+1>=0}function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return l(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof r?t[0]:ct(n)(p(t,i))}function bt(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function yt(t,e){return function(n){return n.lift(new vt(t,e))}}var vt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new dt(t,this.predicate,this.thisArg))},t}(),dt=function(e){function n(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return t(n,e),n.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},n}(e);function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!i(t[0]))return t[0];t=t[0]}return p(t,void 0).lift(new _t)}var _t=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new xt(t))},t}(),xt=function(e){function n(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t(n,e),n.prototype._next=function(t){this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=Q(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},n.prototype.notifyNext=function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},n}(K);function gt(t,e,n){void 0===t&&(t=0);var i=-1;return pt(e)?i=Number(e)<1?1:Number(e):l(e)&&(n=e),l(n)||(n=z),new r((function(e){var r=pt(t)?t:+t-n.now();return n.schedule(St,r,{index:0,period:i,subscriber:e})}))}function St(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),p(t,void 0).lift(new Ct(n))}var Ct=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new jt(t,this.resultSelector))},t}(),jt=function(e){function n(t,n,r){var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return t(n,e),n.prototype._next=function(t){var e=this.iterators;i(t)?e.push(new Nt(t)):"function"==typeof t[m]?e.push(new It(t[m]())):e.push(new Et(this.destination,this,t))},n.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},n.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},n.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},n.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(e),It=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),Nt=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[m]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Et=function(e){function n(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return t(n,e),n.prototype[m]=function(){return this},n.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},n.prototype.hasValue=function(){return this.buffer.length>0},n.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},n.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},n.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},n.prototype.subscribe=function(){return rt(this.observable,new et(this))},n}(nt);export{k as A,V as B,S as C,ut as D,H as E,T as G,K as O,et as S,J as T,Ct as Z,z as a,bt as b,G as c,lt as d,M as e,yt as f,B as g,Z as h,pt as i,X as j,ht as k,rt as l,ft as m,D as n,nt as o,$ as p,it as q,mt as r,Q as s,gt as t,w as u,_ as v,at as w,j as x,ct as y,wt as z};
