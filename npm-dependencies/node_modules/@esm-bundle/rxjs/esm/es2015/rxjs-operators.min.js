/* rxjs@6.6.3 */
import{e as t,S as s,i as e,O as i,d as n,p as r,b as c}from"./rxjs-shared.min.js";import{i as h,N as u,e as l,o as a,S as d,t as b}from"./rxjs-shared.min3.js";import{S as p,l as _,o as S,a as g,t as N,O as C,s as V,p as T,k as I,q as j,E as O,h as E,f as B,m as A,u as k,b as W,B as z,A as F,r as P,v as R,c as Y,i as K,n as M,d as Z,T as G,z as H,Z as J}from"./rxjs-shared.min2.js";export{w as concatAll,f as filter,D as flatMap,x as groupBy,y as mergeAll,q as mergeMap,v as refCount}from"./rxjs-shared.min2.js";import{R as L}from"./rxjs-shared.min4.js";export{o as observeOn}from"./rxjs-shared.min4.js";import"./rxjs-shared.min8.js";import{m as Q}from"./rxjs-shared.min7.js";export{m as map}from"./rxjs-shared.min7.js";import{f as U}from"./rxjs-shared.min6.js";function X(t){return function(s){return s.lift(new $(t))}}class ${constructor(t){this.durationSelector=t}call(t,s){return s.subscribe(new tt(t,this.durationSelector))}}class tt extends p{constructor(t,s){super(t),this.durationSelector=s,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let s;try{const{durationSelector:e}=this;s=e(t)}catch(t){return this.destination.error(t)}const e=_(s,new S(this));!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}}clearThrottle(){const{value:t,hasValue:s,throttled:e}=this;e&&(this.remove(e),this.throttled=void 0,e.unsubscribe()),s&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function st(t,s=g){return X(()=>N(t,s))}function et(t){return function(s){return s.lift(new it(t))}}class it{constructor(t){this.closingNotifier=t}call(t,s){return s.subscribe(new nt(t,this.closingNotifier))}}class nt extends p{constructor(t,s){super(t),this.buffer=[],this.add(_(s,new S(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}function rt(t,s=null){return function(e){return e.lift(new ot(t,s))}}class ot{constructor(t,s){this.bufferSize=t,this.startBufferEvery=s,this.subscriberClass=s&&t!==s?ht:ct}call(t,s){return s.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class ct extends t{constructor(t,s){super(t),this.bufferSize=s,this.buffer=[]}_next(t){const s=this.buffer;s.push(t),s.length==this.bufferSize&&(this.destination.next(s),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class ht extends t{constructor(t,s,e){super(t),this.bufferSize=s,this.startBufferEvery=e,this.buffers=[],this.count=0}_next(t){const{bufferSize:s,startBufferEvery:e,buffers:i,count:n}=this;this.count++,n%e==0&&i.push([]);for(let e=i.length;e--;){const n=i[e];n.push(t),n.length===s&&(i.splice(e,1),this.destination.next(n))}}_complete(){const{buffers:t,destination:s}=this;for(;t.length>0;){let e=t.shift();e.length>0&&s.next(e)}super._complete()}}function ut(t){let s=arguments.length,e=g;h(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],s--);let i=null;s>=2&&(i=arguments[1]);let n=Number.POSITIVE_INFINITY;return s>=3&&(n=arguments[2]),function(s){return s.lift(new lt(t,i,n,e))}}class lt{constructor(t,s,e,i){this.bufferTimeSpan=t,this.bufferCreationInterval=s,this.maxBufferSize=e,this.scheduler=i}call(t,s){return s.subscribe(new dt(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class at{constructor(){this.buffer=[]}}class dt extends t{constructor(t,s,e,i,n){super(t),this.bufferTimeSpan=s,this.bufferCreationInterval=e,this.maxBufferSize=i,this.scheduler=n,this.contexts=[];const r=this.openContext();if(this.timespanOnly=null==e||e<0,this.timespanOnly){const t={subscriber:this,context:r,bufferTimeSpan:s};this.add(r.closeAction=n.schedule(ft,s,t))}else{const t={subscriber:this,context:r},i={bufferTimeSpan:s,bufferCreationInterval:e,subscriber:this,scheduler:n};this.add(r.closeAction=n.schedule(pt,s,t)),this.add(n.schedule(bt,e,i))}}_next(t){const s=this.contexts,e=s.length;let i;for(let n=0;n<e;n++){const e=s[n],r=e.buffer;r.push(t),r.length==this.maxBufferSize&&(i=e)}i&&this.onBufferFull(i)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:s}=this;for(;t.length>0;){const e=t.shift();s.next(e.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const s=t.closeAction;if(s.unsubscribe(),this.remove(s),!this.closed&&this.timespanOnly){t=this.openContext();const s=this.bufferTimeSpan,e={subscriber:this,context:t,bufferTimeSpan:s};this.add(t.closeAction=this.scheduler.schedule(ft,s,e))}}openContext(){const t=new at;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const s=this.contexts;(s?s.indexOf(t):-1)>=0&&s.splice(s.indexOf(t),1)}}function ft(t){const s=t.subscriber,e=t.context;e&&s.closeContext(e),s.closed||(t.context=s.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function bt(t){const{bufferCreationInterval:s,bufferTimeSpan:e,subscriber:i,scheduler:n}=t,r=i.openContext(),o=this;i.closed||(i.add(r.closeAction=n.schedule(pt,e,{subscriber:i,context:r})),o.schedule(t,s))}function pt(t){const{subscriber:s,context:e}=t;s.closeContext(e)}function xt(t,s){return function(e){return e.lift(new wt(t,s))}}class wt{constructor(t,s){this.openings=t,this.closingSelector=s}call(t,s){return s.subscribe(new mt(t,this.openings,this.closingSelector))}}class mt extends C{constructor(t,s,e){super(t),this.closingSelector=e,this.contexts=[],this.add(V(this,s))}_next(t){const s=this.contexts,e=s.length;for(let i=0;i<e;i++)s[i].buffer.push(t)}_error(t){const s=this.contexts;for(;s.length>0;){const t=s.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const s=t.shift();this.destination.next(s.buffer),s.subscription.unsubscribe(),s.buffer=null,s.subscription=null}this.contexts=null,super._complete()}notifyNext(t,s){t?this.closeBuffer(t):this.openBuffer(s)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const s=this.closingSelector.call(this,t);s&&this.trySubscribe(s)}catch(t){this._error(t)}}closeBuffer(t){const s=this.contexts;if(s&&t){const{buffer:e,subscription:i}=t;this.destination.next(e),s.splice(s.indexOf(t),1),this.remove(i),i.unsubscribe()}}trySubscribe(t){const e=this.contexts,i=new s,n={buffer:[],subscription:i};e.push(n);const r=V(this,t,n);!r||r.closed?this.closeBuffer(n):(r.context=n,this.add(r),i.add(r))}}function _t(t){return function(s){return s.lift(new yt(t))}}class yt{constructor(t){this.closingSelector=t}call(t,s){return s.subscribe(new St(t,this.closingSelector))}}class St extends p{constructor(t,s){super(t),this.closingSelector=s,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let{closingSubscription:t}=this;t&&(this.remove(t),t.unsubscribe());const e=this.buffer;let i;this.buffer&&this.destination.next(e),this.buffer=[];try{const{closingSelector:t}=this;i=t()}catch(t){return this.error(t)}t=new s,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(_(i,new S(this))),this.subscribing=!1}}function gt(t){return function(s){const e=new vt(t),i=s.lift(e);return e.caught=i}}class vt{constructor(t){this.selector=t}call(t,s){return s.subscribe(new Nt(t,this.selector,this.caught))}}class Nt extends p{constructor(t,s,e){super(t),this.selector=s,this.caught=e}error(t){if(!this.isStopped){let s;try{s=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const e=new S(this);this.add(e);const i=_(s,e);i!==e&&this.add(i)}}}function Ct(t){return s=>s.lift(new T(t))}function Vt(...t){let s=null;return"function"==typeof t[t.length-1]&&(s=t.pop()),1===t.length&&e(t[0])&&(t=t[0].slice()),e=>e.lift.call(U([e,...t]),new T(s))}function Tt(...t){return s=>s.lift.call(I(s,...t))}function It(t,s){return j(t,s,1)}function jt(t,s){return It(()=>t,s)}function Ot(t){return s=>s.lift(new Et(t,s))}class Et{constructor(t,s){this.predicate=t,this.source=s}call(t,s){return s.subscribe(new Bt(t,this.predicate,this.source))}}class Bt extends t{constructor(t,s,e){super(t),this.predicate=s,this.source=e,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let s;try{s=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}s&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function At(t){return s=>s.lift(new kt(t))}class kt{constructor(t){this.durationSelector=t}call(t,s){return s.subscribe(new Wt(t,this.durationSelector))}}class Wt extends p{constructor(t,s){super(t),this.durationSelector=s,this.hasValue=!1}_next(t){try{const s=this.durationSelector.call(this,t);s&&this._tryNext(t,s)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,s){let e=this.durationSubscription;this.value=t,this.hasValue=!0,e&&(e.unsubscribe(),this.remove(e)),e=_(s,new S(this)),e&&!e.closed&&this.add(this.durationSubscription=e)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,s=this.durationSubscription;s&&(this.durationSubscription=void 0,s.unsubscribe(),this.remove(s)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function zt(t,s=g){return e=>e.lift(new Ft(t,s))}class Ft{constructor(t,s){this.dueTime=t,this.scheduler=s}call(t,s){return s.subscribe(new Pt(t,this.dueTime,this.scheduler))}}class Pt extends t{constructor(t,s,e){super(t),this.dueTime=s,this.scheduler=e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Dt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Dt(t){t.debouncedNext()}function Rt(t=null){return s=>s.lift(new Yt(t))}class Yt{constructor(t){this.defaultValue=t}call(t,s){return s.subscribe(new qt(t,this.defaultValue))}}class qt extends t{constructor(t,s){super(t),this.defaultValue=s,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Kt(t){return t instanceof Date&&!isNaN(+t)}function Mt(t,s=g){const e=Kt(t)?+t-s.now():Math.abs(t);return t=>t.lift(new Zt(e,s))}class Zt{constructor(t,s){this.delay=t,this.scheduler=s}call(t,s){return s.subscribe(new Gt(t,this.delay,this.scheduler))}}class Gt extends t{constructor(t,s,e){super(t),this.delay=s,this.scheduler=e,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const s=t.source,e=s.queue,i=t.scheduler,n=t.destination;for(;e.length>0&&e[0].time-i.now()<=0;)e.shift().notification.observe(n);if(e.length>0){const s=Math.max(0,e[0].time-i.now());this.schedule(t,s)}else this.unsubscribe(),s.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Gt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const s=this.scheduler,e=new Ht(s.now()+this.delay,t);this.queue.push(e),!1===this.active&&this._schedule(s)}_next(t){this.scheduleNotification(u.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(u.createComplete()),this.unsubscribe()}}class Ht{constructor(t,s){this.time=t,this.notification=s}}function Jt(t,s){return s?e=>new Ut(e,s).lift(new Lt(t)):s=>s.lift(new Lt(t))}class Lt{constructor(t){this.delayDurationSelector=t}call(t,s){return s.subscribe(new Qt(t,this.delayDurationSelector))}}class Qt extends C{constructor(t,s){super(t),this.delayDurationSelector=s,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,s,e,i,n){this.destination.next(t),this.removeSubscription(n),this.tryComplete()}notifyError(t,s){this._error(t)}notifyComplete(t){const s=this.removeSubscription(t);s&&this.destination.next(s),this.tryComplete()}_next(t){const s=this.index++;try{const e=this.delayDurationSelector(t,s);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const s=this.delayNotifierSubscriptions.indexOf(t);return-1!==s&&this.delayNotifierSubscriptions.splice(s,1),t.outerValue}tryDelay(t,s){const e=V(this,t,s);if(e&&!e.closed){this.destination.add(e),this.delayNotifierSubscriptions.push(e)}}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Ut extends i{constructor(t,s){super(),this.source=t,this.subscriptionDelay=s}_subscribe(t){this.subscriptionDelay.subscribe(new Xt(t,this.source))}}class Xt extends t{constructor(t,s){super(),this.parent=t,this.source=s,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function $t(){return function(t){return t.lift(new ts)}}class ts{call(t,s){return s.subscribe(new ss(t))}}class ss extends t{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function es(t,s){return e=>e.lift(new is(t,s))}class is{constructor(t,s){this.keySelector=t,this.flushes=s}call(t,s){return s.subscribe(new ns(t,this.keySelector,this.flushes))}}class ns extends p{constructor(t,s,e){super(t),this.keySelector=s,this.values=new Set,e&&this.add(_(e,new S(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let s;const{destination:e}=this;try{s=this.keySelector(t)}catch(t){return void e.error(t)}this._finalizeNext(s,t)}_finalizeNext(t,s){const{values:e}=this;e.has(t)||(e.add(t),this.destination.next(s))}}function rs(t,s){return e=>e.lift(new os(t,s))}class os{constructor(t,s){this.compare=t,this.keySelector=s}call(t,s){return s.subscribe(new cs(t,this.compare,this.keySelector))}}class cs extends t{constructor(t,s,e){super(t),this.keySelector=e,this.hasKey=!1,"function"==typeof s&&(this.compare=s)}compare(t,s){return t===s}_next(t){let s;try{const{keySelector:e}=this;s=e?e(t):t}catch(t){return this.destination.error(t)}let e=!1;if(this.hasKey)try{const{compare:t}=this;e=t(this.key,s)}catch(t){return this.destination.error(t)}else this.hasKey=!0;e||(this.key=s,this.destination.next(t))}}function hs(t,s){return rs((e,i)=>s?s(e[t],i[t]):e[t]===i[t])}function us(t=ds){return s=>s.lift(new ls(t))}class ls{constructor(t){this.errorFactory=t}call(t,s){return s.subscribe(new as(t,this.errorFactory))}}class as extends t{constructor(t,s){super(t),this.errorFactory=s,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(s){t=s}this.destination.error(t)}}}function ds(){return new O}function fs(t){return s=>0===t?l():s.lift(new bs(t))}class bs{constructor(t){if(this.total=t,this.total<0)throw new E}call(t,s){return s.subscribe(new ps(t,this.total))}}class ps extends t{constructor(t,s){super(t),this.total=s,this.count=0}_next(t){const s=this.total,e=++this.count;e<=s&&(this.destination.next(t),e===s&&(this.destination.complete(),this.unsubscribe()))}}function xs(t,s){if(t<0)throw new E;const e=arguments.length>=2;return i=>i.pipe(B((s,e)=>e===t),fs(1),e?Rt(s):us(()=>new E))}function ws(...t){return s=>I(s,a(...t))}function ms(t,s){return e=>e.lift(new _s(t,s,e))}class _s{constructor(t,s,e){this.predicate=t,this.thisArg=s,this.source=e}call(t,s){return s.subscribe(new ys(t,this.predicate,this.thisArg,this.source))}}class ys extends t{constructor(t,s,e,i){super(t),this.predicate=s,this.thisArg=e,this.source=i,this.index=0,this.thisArg=e||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let s=!1;try{s=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}s||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ss(){return t=>t.lift(new gs)}class gs{call(t,s){return s.subscribe(new vs(t))}}class vs extends p{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(_(t,new S(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Ns(t,s){return s?e=>e.pipe(Ns((e,i)=>U(t(e,i)).pipe(Q((t,n)=>s(e,t,i,n))))):s=>s.lift(new Cs(t))}class Cs{constructor(t){this.project=t}call(t,s){return s.subscribe(new Vs(t,this.project))}}class Vs extends p{constructor(t,s){super(t),this.project=s,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let s;const e=this.index++;try{s=this.project(t,e)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(s)}_innerSub(t){const s=new S(this),e=this.destination;e.add(s);const i=_(t,s);i!==s&&e.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Ts(t,s=Number.POSITIVE_INFINITY,e){return s=(s||0)<1?Number.POSITIVE_INFINITY:s,i=>i.lift(new Is(t,s,e))}class Is{constructor(t,s,e){this.project=t,this.concurrent=s,this.scheduler=e}call(t,s){return s.subscribe(new js(t,this.project,this.concurrent,this.scheduler))}}class js extends p{constructor(t,s,e,i){super(t),this.project=s,this.concurrent=e,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,e<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:s,result:e,value:i,index:n}=t;s.subscribeToProjection(e,i,n)}_next(t){const s=this.destination;if(s.closed)return void this._complete();const e=this.index++;if(this.active<this.concurrent){s.next(t);try{const{project:s}=this,i=s(t,e);if(this.scheduler){const s={subscriber:this,result:i,value:t,index:e};this.destination.add(this.scheduler.schedule(js.dispatch,0,s))}else this.subscribeToProjection(i,t,e)}catch(t){s.error(t)}}else this.buffer.push(t)}subscribeToProjection(t,s,e){this.active++,this.destination.add(_(t,new S(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}function Os(t){return s=>s.lift(new Es(t))}class Es{constructor(t){this.callback=t}call(t,s){return s.subscribe(new Bs(t,this.callback))}}class Bs extends t{constructor(t,e){super(t),this.add(new s(e))}}function As(t,s){if("function"!=typeof t)throw new TypeError("predicate is not a function");return e=>e.lift(new ks(t,e,!1,s))}class ks{constructor(t,s,e,i){this.predicate=t,this.source=s,this.yieldIndex=e,this.thisArg=i}call(t,s){return s.subscribe(new Ws(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Ws extends t{constructor(t,s,e,i,n){super(t),this.predicate=s,this.source=e,this.yieldIndex=i,this.thisArg=n,this.index=0}notifyComplete(t){const s=this.destination;s.next(t),s.complete(),this.unsubscribe()}_next(t){const{predicate:s,thisArg:e}=this,i=this.index++;try{s.call(e||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function zs(t,s){return e=>e.lift(new ks(t,e,!0,s))}function Fs(t,s){const e=arguments.length>=2;return i=>i.pipe(t?B((s,e)=>t(s,e,i)):n,fs(1),e?Rt(s):us(()=>new O))}function Ps(){return function(t){return t.lift(new Ds)}}class Ds{call(t,s){return s.subscribe(new Rs(t))}}class Rs extends t{_next(t){}}function Ys(){return t=>t.lift(new qs)}class qs{call(t,s){return s.subscribe(new Ks(t))}}class Ks extends t{constructor(t){super(t)}notifyComplete(t){const s=this.destination;s.next(t),s.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ms(t){return function(s){return 0===t?l():s.lift(new Zs(t))}}class Zs{constructor(t){if(this.total=t,this.total<0)throw new E}call(t,s){return s.subscribe(new Gs(t,this.total))}}class Gs extends t{constructor(t,s){super(t),this.total=s,this.ring=new Array,this.count=0}_next(t){const s=this.ring,e=this.total,i=this.count++;if(s.length<e)s.push(t);else{s[i%e]=t}}_complete(){const t=this.destination;let s=this.count;if(s>0){const e=this.count>=this.total?this.total:this.count,i=this.ring;for(let n=0;n<e;n++){const n=s++%e;t.next(i[n])}}t.complete()}}function Hs(t,s){const e=arguments.length>=2;return i=>i.pipe(t?B((s,e)=>t(s,e,i)):n,Ms(1),e?Rt(s):us(()=>new O))}function Js(t){return s=>s.lift(new Ls(t))}class Ls{constructor(t){this.value=t}call(t,s){return s.subscribe(new Qs(t,this.value))}}class Qs extends t{constructor(t,s){super(t),this.value=s}_next(t){this.destination.next(this.value)}}function Us(){return function(t){return t.lift(new Xs)}}class Xs{call(t,s){return s.subscribe(new $s(t))}}class $s extends t{constructor(t){super(t)}_next(t){this.destination.next(u.createNext(t))}_error(t){const s=this.destination;s.next(u.createError(t)),s.complete()}_complete(){const t=this.destination;t.next(u.createComplete()),t.complete()}}function te(t,s){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new se(t,s,e))}}class se{constructor(t,s,e=!1){this.accumulator=t,this.seed=s,this.hasSeed=e}call(t,s){return s.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends t{constructor(t,s,e,i){super(t),this.accumulator=s,this._seed=e,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const s=this.index++;let e;try{e=this.accumulator(this.seed,t,s)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)}}function ie(t,s){return arguments.length>=2?function(e){return r(te(t,s),Ms(1),Rt(s))(e)}:function(s){return r(te((s,e,i)=>t(s,e,i+1)),Ms(1))(s)}}function ne(t){return ie("function"==typeof t?(s,e)=>t(s,e)>0?s:e:(t,s)=>t>s?t:s)}function re(...t){return s=>s.lift.call(A(s,...t))}function oe(t,s,e=Number.POSITIVE_INFINITY){return"function"==typeof s?j(()=>t,s,e):("number"==typeof s&&(e=s),j(()=>t,e))}function ce(t,s,e=Number.POSITIVE_INFINITY){return i=>i.lift(new he(t,s,e))}class he{constructor(t,s,e){this.accumulator=t,this.seed=s,this.concurrent=e}call(t,s){return s.subscribe(new ue(t,this.accumulator,this.seed,this.concurrent))}}class ue extends p{constructor(t,s,e,i){super(t),this.accumulator=s,this.acc=e,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const s=this.index++,e=this.destination;let i;try{const{accumulator:e}=this;i=e(this.acc,t,s)}catch(t){return e.error(t)}this.active++,this._innerSub(i)}else this.buffer.push(t)}_innerSub(t){const s=new S(this),e=this.destination;e.add(s);const i=_(t,s);i!==s&&e.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:s}=this;this.acc=t,this.hasValue=!0,s.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function le(t){return ie("function"==typeof t?(s,e)=>t(s,e)<0?s:e:(t,s)=>t<s?t:s)}function ae(t,s){return function(e){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof s)return e.lift(new de(i,s));const n=Object.create(e,k);return n.source=e,n.subjectFactory=i,n}}class de{constructor(t,s){this.subjectFactory=t,this.selector=s}call(t,s){const{selector:e}=this,i=this.subjectFactory(),n=e(i).subscribe(t);return n.add(s.subscribe(i)),n}}function fe(...t){return 1===t.length&&e(t[0])&&(t=t[0]),s=>s.lift(new be(t))}class be{constructor(t){this.nextSources=t}call(t,s){return s.subscribe(new pe(t,this.nextSources))}}class pe extends p{constructor(t,s){super(t),this.destination=t,this.nextSources=s}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const s=new S(this),e=this.destination;e.add(s);const i=_(t,s);i!==s&&e.add(i)}else this.destination.complete()}}function xe(){return t=>t.lift(new we)}class we{call(t,s){return s.subscribe(new me(t))}}class me extends t{constructor(t){super(t),this.hasPrev=!1}_next(t){let s;this.hasPrev?s=[this.prev,t]:this.hasPrev=!0,this.prev=t,s&&this.destination.next(s)}}function _e(t,s){return e=>[B(t,s)(e),B(W(t,s))(e)]}function ye(...t){const s=t.length;if(0===s)throw new Error("list of properties cannot be empty.");return e=>Q(function(t,s){return e=>{let i=e;for(let e=0;e<s;e++){const s=null!=i?i[t[e]]:void 0;if(void 0===s)return;i=s}return i}}(t,s))(e)}function Se(t){return t?ae(()=>new d,t):ae(new d)}function ge(t){return s=>ae(new z(t))(s)}function ve(){return t=>ae(new F)(t)}function Ne(t,s,e,i){e&&"function"!=typeof e&&(i=e);const n="function"==typeof e?e:void 0,r=new L(t,s,i);return t=>ae(()=>r,n)(t)}function Ce(...t){return function(s){return 1===t.length&&e(t[0])&&(t=t[0]),s.lift.call(P(s,...t))}}function Ve(t=-1){return s=>0===t?l():t<0?s.lift(new Te(-1,s)):s.lift(new Te(t-1,s))}class Te{constructor(t,s){this.count=t,this.source=s}call(t,s){return s.subscribe(new Ie(t,this.count,this.source))}}class Ie extends t{constructor(t,s,e){super(t),this.count=s,this.source=e}complete(){if(!this.isStopped){const{source:t,count:s}=this;if(0===s)return super.complete();s>-1&&(this.count=s-1),t.subscribe(this._unsubscribeAndRecycle())}}}function je(t){return s=>s.lift(new Oe(t))}class Oe{constructor(t){this.notifier=t}call(t,s){return s.subscribe(new Ee(t,this.notifier,s))}}class Ee extends p{constructor(t,s,e){super(t),this.notifier=s,this.source=e,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:s}=this;t&&(t.unsubscribe(),this.notifications=void 0),s&&(s.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new d;try{const{notifier:s}=this;t=s(this.notifications)}catch(t){return super.complete()}this.retries=t,this.retriesSubscription=_(t,new S(this))}}function Be(t=-1){return s=>s.lift(new Ae(t,s))}class Ae{constructor(t,s){this.count=t,this.source=s}call(t,s){return s.subscribe(new ke(t,this.count,this.source))}}class ke extends t{constructor(t,s,e){super(t),this.count=s,this.source=e}error(t){if(!this.isStopped){const{source:s,count:e}=this;if(0===e)return super.error(t);e>-1&&(this.count=e-1),s.subscribe(this._unsubscribeAndRecycle())}}}function We(t){return s=>s.lift(new ze(t,s))}class ze{constructor(t,s){this.notifier=t,this.source=s}call(t,s){return s.subscribe(new Fe(t,this.notifier,this.source))}}class Fe extends p{constructor(t,s,e){super(t),this.notifier=s,this.source=e}error(t){if(!this.isStopped){let s=this.errors,e=this.retries,i=this.retriesSubscription;if(e)this.errors=void 0,this.retriesSubscription=void 0;else{s=new d;try{const{notifier:t}=this;e=t(s)}catch(t){return super.error(t)}i=_(e,new S(this))}this._unsubscribeAndRecycle(),this.errors=s,this.retries=e,this.retriesSubscription=i,s.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:s}=this;t&&(t.unsubscribe(),this.errors=void 0),s&&(s.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}function Pe(t){return s=>s.lift(new De(t))}class De{constructor(t){this.notifier=t}call(t,s){const e=new Re(t),i=s.subscribe(e);return i.add(_(this.notifier,new S(e))),i}}class Re extends p{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Ye(t,s=g){return e=>e.lift(new qe(t,s))}class qe{constructor(t,s){this.period=t,this.scheduler=s}call(t,s){return s.subscribe(new Ke(t,this.period,this.scheduler))}}class Ke extends t{constructor(t,s,e){super(t),this.period=s,this.scheduler=e,this.hasValue=!1,this.add(e.schedule(Me,s,{subscriber:this,period:s}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Me(t){let{subscriber:s,period:e}=t;s.notifyNext(),this.schedule(t,e)}function Ze(t,s){return e=>e.lift(new Ge(t,s))}class Ge{constructor(t,s){this.compareTo=t,this.comparator=s}call(t,s){return s.subscribe(new He(t,this.compareTo,this.comparator))}}class He extends t{constructor(t,s,e){super(t),this.compareTo=s,this.comparator=e,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(s.subscribe(new Je(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:s,comparator:e}=this;for(;t.length>0&&s.length>0;){let i=t.shift(),n=s.shift(),r=!1;try{r=e?e(i,n):i===n}catch(t){this.destination.error(t)}r||this.emit(!1)}}emit(t){const{destination:s}=this;s.next(t),s.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Je extends t{constructor(t,s){super(t),this.parent=s}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function Le(){return new d}function Qe(){return t=>R()(ae(Le)(t))}function Ue(t,s,e){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:s,refCount:!1,scheduler:e},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:s=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let n,r,o=0,c=!1,h=!1;return function(u){let l;o++,!n||c?(c=!1,n=new L(t,s,i),l=n.subscribe(this),r=u.subscribe({next(t){n.next(t)},error(t){c=!0,n.error(t)},complete(){h=!0,r=void 0,n.complete()}})):l=n.subscribe(this),this.add(()=>{o--,l.unsubscribe(),r&&!h&&e&&0===o&&(r.unsubscribe(),r=void 0,n=void 0)})}}(i))}function Xe(t){return s=>s.lift(new $e(t,s))}class $e{constructor(t,s){this.predicate=t,this.source=s}call(t,s){return s.subscribe(new ti(t,this.predicate,this.source))}}class ti extends t{constructor(t,s,e){super(t),this.predicate=s,this.source=e,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const s=this.index++;this.predicate?this.tryNext(t,s):this.applySingleValue(t)}tryNext(t,s){try{this.predicate(t,s,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new O)}}function si(t){return s=>s.lift(new ei(t))}class ei{constructor(t){this.total=t}call(t,s){return s.subscribe(new ii(t,this.total))}}class ii extends t{constructor(t,s){super(t),this.total=s,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function ni(t){return s=>s.lift(new ri(t))}class ri{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new E}call(s,e){return 0===this._skipCount?e.subscribe(new t(s)):e.subscribe(new oi(s,this._skipCount))}}class oi extends t{constructor(t,s){super(t),this._skipCount=s,this._count=0,this._ring=new Array(s)}_next(t){const s=this._skipCount,e=this._count++;if(e<s)this._ring[e]=t;else{const i=e%s,n=this._ring,r=n[i];n[i]=t,this.destination.next(r)}}}function ci(t){return s=>s.lift(new hi(t))}class hi{constructor(t){this.notifier=t}call(t,s){return s.subscribe(new ui(t,this.notifier))}}class ui extends p{constructor(t,s){super(t),this.hasValue=!1;const e=new S(this);this.add(e),this.innerSubscription=e;const i=_(s,e);i!==e&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function li(t){return s=>s.lift(new ai(t))}class ai{constructor(t){this.predicate=t}call(t,s){return s.subscribe(new di(t,this.predicate))}}class di extends t{constructor(t,s){super(t),this.predicate=s,this.skipping=!0,this.index=0}_next(t){const s=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||s.next(t)}tryCallPredicate(t){try{const s=this.predicate(t,this.index++);this.skipping=Boolean(s)}catch(t){this.destination.error(t)}}}function fi(...t){const s=t[t.length-1];return h(s)?(t.pop(),e=>I(t,e,s)):s=>I(t,s)}class bi extends i{constructor(t,s=0,e=Y){super(),this.source=t,this.delayTime=s,this.scheduler=e,(!K(s)||s<0)&&(this.delayTime=0),e&&"function"==typeof e.schedule||(this.scheduler=Y)}static create(t,s=0,e=Y){return new bi(t,s,e)}static dispatch(t){const{source:s,subscriber:e}=t;return this.add(s.subscribe(e))}_subscribe(t){const s=this.delayTime,e=this.source;return this.scheduler.schedule(bi.dispatch,s,{source:e,subscriber:t})}}function pi(t,s=0){return function(e){return e.lift(new xi(t,s))}}class xi{constructor(t,s){this.scheduler=t,this.delay=s}call(t,s){return new bi(s,this.delay,this.scheduler).subscribe(t)}}function wi(t,s){return"function"==typeof s?e=>e.pipe(wi((e,i)=>U(t(e,i)).pipe(Q((t,n)=>s(e,t,i,n))))):s=>s.lift(new mi(t))}class mi{constructor(t){this.project=t}call(t,s){return s.subscribe(new _i(t,this.project))}}class _i extends p{constructor(t,s){super(t),this.project=s,this.index=0}_next(t){let s;const e=this.index++;try{s=this.project(t,e)}catch(t){return void this.destination.error(t)}this._innerSub(s)}_innerSub(t){const s=this.innerSubscription;s&&s.unsubscribe();const e=new S(this),i=this.destination;i.add(e),this.innerSubscription=_(t,e),this.innerSubscription!==e&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function yi(){return wi(n)}function Si(t,s){return s?wi(()=>t,s):wi(()=>t)}function gi(t){return s=>s.lift(new vi(t))}class vi{constructor(t){this.notifier=t}call(t,s){const e=new Ni(t),i=_(this.notifier,new S(e));return i&&!e.seenValue?(e.add(i),s.subscribe(e)):e}}class Ni extends p{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ci(t,s=!1){return e=>e.lift(new Vi(t,s))}class Vi{constructor(t,s){this.predicate=t,this.inclusive=s}call(t,s){return s.subscribe(new Ti(t,this.predicate,this.inclusive))}}class Ti extends t{constructor(t,s,e){super(t),this.predicate=s,this.inclusive=e,this.index=0}_next(t){const s=this.destination;let e;try{e=this.predicate(t,this.index++)}catch(t){return void s.error(t)}this.nextOrComplete(t,e)}nextOrComplete(t,s){const e=this.destination;Boolean(s)?e.next(t):(this.inclusive&&e.next(t),e.complete())}}function Ii(t,s,e){return function(i){return i.lift(new ji(t,s,e))}}class ji{constructor(t,s,e){this.nextOrObserver=t,this.error=s,this.complete=e}call(t,s){return s.subscribe(new Oi(t,this.nextOrObserver,this.error,this.complete))}}class Oi extends t{constructor(t,s,e,i){super(t),this._tapNext=M,this._tapError=M,this._tapComplete=M,this._tapError=e||M,this._tapComplete=i||M,c(s)?(this._context=this,this._tapNext=s):s&&(this._context=s,this._tapNext=s.next||M,this._tapError=s.error||M,this._tapComplete=s.complete||M)}_next(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Ei={leading:!0,trailing:!1};function Bi(t,s=Ei){return e=>e.lift(new Ai(t,!!s.leading,!!s.trailing))}class Ai{constructor(t,s,e){this.durationSelector=t,this.leading=s,this.trailing=e}call(t,s){return s.subscribe(new ki(t,this.durationSelector,this.leading,this.trailing))}}class ki extends p{constructor(t,s,e,i){super(t),this.destination=t,this.durationSelector=s,this._leading=e,this._trailing=i,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:s}=this;t&&(this.destination.next(s),this.throttle(s)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const s=this.tryDurationSelector(t);s&&this.add(this._throttled=_(s,new S(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}}throttlingDone(){const{_throttled:t,_trailing:s}=this;t&&t.unsubscribe(),this._throttled=void 0,s&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Wi(t,s=g,e=Ei){return i=>i.lift(new zi(t,s,e.leading,e.trailing))}class zi{constructor(t,s,e,i){this.duration=t,this.scheduler=s,this.leading=e,this.trailing=i}call(t,s){return s.subscribe(new Fi(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Fi extends t{constructor(t,s,e,i,n){super(t),this.duration=s,this.scheduler=e,this.leading=i,this.trailing=n,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Pi,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Pi(t){const{subscriber:s}=t;s.clearThrottle()}function Di(t=g){return s=>Z(()=>s.pipe(te(({current:s},e)=>({value:e,current:t.now(),last:s}),{current:t.now(),value:void 0,last:void 0}),Q(({current:t,last:s,value:e})=>new Ri(e,t-s))))}class Ri{constructor(t,s){this.value=t,this.interval=s}}function Yi(t,s,e=g){return i=>{let n=Kt(t),r=n?+t-e.now():Math.abs(t);return i.lift(new qi(r,n,s,e))}}class qi{constructor(t,s,e,i){this.waitFor=t,this.absoluteTimeout=s,this.withObservable=e,this.scheduler=i}call(t,s){return s.subscribe(new Ki(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Ki extends p{constructor(t,s,e,i,n){super(t),this.absoluteTimeout=s,this.waitFor=e,this.withObservable=i,this.scheduler=n,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:s}=t;t._unsubscribeAndRecycle(),t.add(_(s,new S(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Ki.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}function Mi(t,s=g){return Yi(t,b(new G),s)}function Zi(t=g){return Q(s=>new Gi(s,t.now()))}class Gi{constructor(t,s){this.value=t,this.timestamp=s}}function Hi(t,s,e){return 0===e?[s]:(t.push(s),t)}function Ji(){return ie(Hi,[])}function Li(t){return function(s){return s.lift(new Qi(t))}}class Qi{constructor(t){this.windowBoundaries=t}call(t,s){const e=new Ui(t),i=s.subscribe(e);return i.closed||e.add(_(this.windowBoundaries,new S(e))),i}}class Ui extends p{constructor(t){super(t),this.window=new d,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const s=this.destination,e=this.window=new d;s.next(e)}}function Xi(t,s=0){return function(e){return e.lift(new $i(t,s))}}class $i{constructor(t,s){this.windowSize=t,this.startWindowEvery=s}call(t,s){return s.subscribe(new tn(t,this.windowSize,this.startWindowEvery))}}class tn extends t{constructor(t,s,e){super(t),this.destination=t,this.windowSize=s,this.startWindowEvery=e,this.windows=[new d],this.count=0,t.next(this.windows[0])}_next(t){const s=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,e=this.destination,i=this.windowSize,n=this.windows,r=n.length;for(let s=0;s<r&&!this.closed;s++)n[s].next(t);const o=this.count-i+1;if(o>=0&&o%s==0&&!this.closed&&n.shift().complete(),++this.count%s==0&&!this.closed){const t=new d;n.push(t),e.next(t)}}_error(t){const s=this.windows;if(s)for(;s.length>0&&!this.closed;)s.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function sn(t){let s=g,e=null,i=Number.POSITIVE_INFINITY;return h(arguments[3])&&(s=arguments[3]),h(arguments[2])?s=arguments[2]:K(arguments[2])&&(i=Number(arguments[2])),h(arguments[1])?s=arguments[1]:K(arguments[1])&&(e=Number(arguments[1])),function(n){return n.lift(new en(t,e,i,s))}}class en{constructor(t,s,e,i){this.windowTimeSpan=t,this.windowCreationInterval=s,this.maxWindowSize=e,this.scheduler=i}call(t,s){return s.subscribe(new rn(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class nn extends d{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class rn extends t{constructor(t,s,e,i,n){super(t),this.destination=t,this.windowTimeSpan=s,this.windowCreationInterval=e,this.maxWindowSize=i,this.scheduler=n,this.windows=[];const r=this.openWindow();if(null!==e&&e>=0){const t={subscriber:this,window:r,context:null},i={windowTimeSpan:s,windowCreationInterval:e,subscriber:this,scheduler:n};this.add(n.schedule(hn,s,t)),this.add(n.schedule(cn,e,i))}else{const t={subscriber:this,window:r,windowTimeSpan:s};this.add(n.schedule(on,s,t))}}_next(t){const s=this.windows,e=s.length;for(let i=0;i<e;i++){const e=s[i];e.closed||(e.next(t),e.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(e))}}_error(t){const s=this.windows;for(;s.length>0;)s.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const s=t.shift();s.closed||s.complete()}this.destination.complete()}openWindow(){const t=new nn;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const s=this.windows;s.splice(s.indexOf(t),1)}}function on(t){const{subscriber:s,windowTimeSpan:e,window:i}=t;i&&s.closeWindow(i),t.window=s.openWindow(),this.schedule(t,e)}function cn(t){const{windowTimeSpan:s,subscriber:e,scheduler:i,windowCreationInterval:n}=t,r=e.openWindow();let o={action:this,subscription:null};const c={subscriber:e,window:r,context:o};o.subscription=i.schedule(hn,s,c),this.add(o.subscription),this.schedule(t,n)}function hn(t){const{subscriber:s,window:e,context:i}=t;i&&i.action&&i.subscription&&i.action.remove(i.subscription),s.closeWindow(e)}function un(t,s){return e=>e.lift(new ln(t,s))}class ln{constructor(t,s){this.openings=t,this.closingSelector=s}call(t,s){return s.subscribe(new an(t,this.openings,this.closingSelector))}}class an extends C{constructor(t,s,e){super(t),this.openings=s,this.closingSelector=e,this.contexts=[],this.add(this.openSubscription=V(this,s,s))}_next(t){const{contexts:s}=this;if(s){const e=s.length;for(let i=0;i<e;i++)s[i].window.next(t)}}_error(t){const{contexts:s}=this;if(this.contexts=null,s){const e=s.length;let i=-1;for(;++i<e;){const e=s[i];e.window.error(t),e.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const s=t.length;let e=-1;for(;++e<s;){const s=t[e];s.window.complete(),s.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const s=t.length;let e=-1;for(;++e<s;){const s=t[e];s.window.unsubscribe(),s.subscription.unsubscribe()}}}notifyNext(t,e,i,n,r){if(t===this.openings){let t;try{const{closingSelector:s}=this;t=s(e)}catch(t){return this.error(t)}const i=new d,n=new s,r={window:i,subscription:n};this.contexts.push(r);const o=V(this,t,r);o.closed?this.closeWindow(this.contexts.length-1):(o.context=r,n.add(o)),this.destination.next(i)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:s}=this,e=s[t],{window:i,subscription:n}=e;s.splice(t,1),i.complete(),n.unsubscribe()}}function dn(t){return function(s){return s.lift(new fn(t))}}class fn{constructor(t){this.closingSelector=t}call(t,s){return s.subscribe(new bn(t,this.closingSelector))}}class bn extends C{constructor(t,s){super(t),this.destination=t,this.closingSelector=s,this.openWindow()}notifyNext(t,s,e,i,n){this.openWindow(n)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const s=this.window;s&&s.complete();const e=this.window=new d;let i;this.destination.next(e);try{const{closingSelector:t}=this;i=t()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=V(this,i))}}function pn(...t){return s=>{let e;"function"==typeof t[t.length-1]&&(e=t.pop());const i=t;return s.lift(new xn(i,e))}}class xn{constructor(t,s){this.observables=t,this.project=s}call(t,s){return s.subscribe(new wn(t,this.observables,this.project))}}class wn extends C{constructor(t,s,e){super(t),this.observables=s,this.project=e,this.toRespond=[];const i=s.length;this.values=new Array(i);for(let t=0;t<i;t++)this.toRespond.push(t);for(let t=0;t<i;t++){let e=s[t];this.add(V(this,e,void 0,t))}}notifyNext(t,s,e){this.values[e]=s;const i=this.toRespond;if(i.length>0){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const s=[t,...this.values];this.project?this._tryProject(s):this.destination.next(s)}}_tryProject(t){let s;try{s=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(s)}}function mn(...t){return function(s){return s.lift.call(H(s,...t))}}function _n(t){return s=>s.lift(new J(t))}export{X as audit,st as auditTime,et as buffer,rt as bufferCount,ut as bufferTime,xt as bufferToggle,_t as bufferWhen,gt as catchError,Ct as combineAll,Vt as combineLatest,Tt as concat,It as concatMap,jt as concatMapTo,Ot as count,At as debounce,zt as debounceTime,Rt as defaultIfEmpty,Mt as delay,Jt as delayWhen,$t as dematerialize,es as distinct,rs as distinctUntilChanged,hs as distinctUntilKeyChanged,xs as elementAt,ws as endWith,ms as every,Ss as exhaust,Ns as exhaustMap,Ts as expand,Os as finalize,As as find,zs as findIndex,Fs as first,Ps as ignoreElements,Ys as isEmpty,Hs as last,Js as mapTo,Us as materialize,ne as max,re as merge,oe as mergeMapTo,ce as mergeScan,le as min,ae as multicast,fe as onErrorResumeNext,xe as pairwise,_e as partition,ye as pluck,Se as publish,ge as publishBehavior,ve as publishLast,Ne as publishReplay,Ce as race,ie as reduce,Ve as repeat,je as repeatWhen,Be as retry,We as retryWhen,Pe as sample,Ye as sampleTime,te as scan,Ze as sequenceEqual,Qe as share,Ue as shareReplay,Xe as single,si as skip,ni as skipLast,ci as skipUntil,li as skipWhile,fi as startWith,pi as subscribeOn,yi as switchAll,wi as switchMap,Si as switchMapTo,fs as take,Ms as takeLast,gi as takeUntil,Ci as takeWhile,Ii as tap,Bi as throttle,Wi as throttleTime,us as throwIfEmpty,Di as timeInterval,Mi as timeout,Yi as timeoutWith,Zi as timestamp,Ji as toArray,Li as window,Xi as windowCount,sn as windowTime,un as windowToggle,dn as windowWhen,pn as withLatestFrom,mn as zip,_n as zipAll};
