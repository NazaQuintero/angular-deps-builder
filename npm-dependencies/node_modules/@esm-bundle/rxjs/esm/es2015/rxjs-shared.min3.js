/* rxjs@6.6.3 */
import{S as e,O as t,r as s,e as r}from"./rxjs-shared.min.js";import{s as i,a as n}from"./rxjs-shared.min8.js";const o=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class c extends e{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const s=t.indexOf(this.subscriber);-1!==s&&t.splice(s,1)}}class h extends r{constructor(e){super(e),this.destination=e}}class u extends t{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[s](){return new h(this)}lift(e){const t=new l(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o;if(!this.isStopped){const{observers:t}=this,s=t.length,r=t.slice();for(let t=0;t<s;t++)r[t].next(e)}}error(e){if(this.closed)throw new o;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,s=t.length,r=t.slice();for(let t=0;t<s;t++)r[t].error(e);this.observers.length=0}complete(){if(this.closed)throw new o;this.isStopped=!0;const{observers:e}=this,t=e.length,s=e.slice();for(let e=0;e<t;e++)s[e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o;return super._trySubscribe(e)}_subscribe(t){if(this.closed)throw new o;return this.hasError?(t.error(this.thrownError),e.EMPTY):this.isStopped?(t.complete(),e.EMPTY):(this.observers.push(t),new c(this,t))}asObservable(){const e=new t;return e.source=this,e}}u.create=(e,t)=>new l(e,t);class l extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(t){const{source:s}=this;return s?this.source.subscribe(t):e.EMPTY}}class a extends e{constructor(e,t){super()}schedule(e,t=0){return this}}class d extends a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s=!1,r=void 0;try{this.work(e)}catch(e){s=!0,r=!!e&&e||new Error(e)}if(s)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,r=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&s.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class p{constructor(e,t=p.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}p.now=()=>Date.now();class b extends p{constructor(e,t=p.now){super(e,()=>b.delegate&&b.delegate!==this?b.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return b.delegate&&b.delegate!==this?b.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const f=new t(e=>e.complete());function w(e){return e?function(e){return new t(t=>e.schedule(()=>t.complete()))}(e):f}function v(e){return e&&"function"==typeof e.schedule}function x(e,s){return s?n(e,s):new t(i(e))}function E(...e){let t=e[e.length-1];return v(t)?(e.pop(),n(e,t)):x(e)}function g(e,s){return new t(s?t=>s.schedule(m,0,{error:e,subscriber:t}):t=>t.error(e))}function m({error:e,subscriber:t}){t.error(e)}var y;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(y||(y={}));class N{constructor(e,t,s){this.kind=e,this.value=t,this.error=s,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,s){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return s&&s()}}accept(e,t,s){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,s)}toObservable(){switch(this.kind){case"N":return E(this.value);case"E":return g(this.error);case"C":return w()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new N("N",e):N.undefinedValueNotification}static createError(e){return new N("E",void 0,e)}static createComplete(){return N.completeNotification}}N.completeNotification=new N("C"),N.undefinedValueNotification=new N("N",void 0);export{d as A,f as E,N,o as O,u as S,b as a,p as b,y as c,h as d,w as e,x as f,c as g,l as h,v as i,E as o,g as t};
